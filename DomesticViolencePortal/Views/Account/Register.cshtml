@model DomesticViolencePortal.Models.ViewModels.UserRegister
@{
    ViewBag.Title = "Register";
    Layout = null;
 
}


<link href="~/Content/css/fontsDosis.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Overpass:300,400,400i,600,700" rel="stylesheet">
<link rel="stylesheet" href="~/Content/css/open-iconic-bootstrap.min.css">
<link rel="stylesheet" href="~/Content/css/animate.css">

<link rel="stylesheet" href="~/Content/css/owl.carousel.min.css">
<link rel="stylesheet" href="~/Content/css/owl.theme.default.min.css">
<link rel="stylesheet" href="~/Content/css/magnific-popup.css">
<link rel="stylesheet" href="~/Content/css/aos.css">
<link rel="stylesheet" href="~/Content/css/ionicons.min.css">
<link rel="stylesheet" href="~/Content/css/bootstrap-datepicker.css">
<link rel="stylesheet" href="~/Content/css/jquery.timepicker.css">

<link rel="stylesheet" href="~/Content/css/flaticon.css">
<link rel="stylesheet" href="~/Content/css/icomoon.css">
<link rel="stylesheet" href="~/Content/css/style.css">




    <body style="background-image: url('/Content/images/flower.jpg');background-size: cover;
    background-repeat: no-repeat;">

    <div class="row">
        <div class="col-sm-12" style="text-align:center">
            @*<h1 style="margin-top:150px;position:center" ">Регистрация пользователя</h1>*@
            <li class="nav-item"><a href="/Home/Index" class="nav-link">На Главную</a></li>
            <h1 class="mb-3 bread" data-scrollax="properties: { translateY: '30%', opacity: 1.6 }" style="color: gray" >Регистрация </h1>
           
        </div>
    </div>
    
        
    
    
    
    
    
 

<div class="panel-body">
    @using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()

      

        <div class="row" style="position: center" >
            <div class="col-md-6 col-md-offset-4 col-sm-offset-2" style="margin:auto; padding-top: 50px;">
                <div class="row">
                    <div class="col-md-3">
                        @Html.LabelFor(model => model.LastName):
                    </div>
                    <div class="col-md-5">
                        @Html.TextBoxFor(model => model.LastName, new {@class = "form-control", autofocus = "autofocus"})
                        @Html.ValidationMessageFor(model => model.LastName)
                    </div>
                </div>
                <br/>
                <div class="row">
                    <div class="col-md-3">
                        @Html.LabelFor(model => model.FirstName):
                    </div>
                    <div class="col-md-5">
                        @Html.TextBoxFor(model => model.FirstName, new {@class = "form-control"})
                        @Html.ValidationMessageFor(model => model.FirstName)
                    </div>
                </div>
                <br/>
                <div class="row">
                    <div class="col-md-3">
                        @Html.LabelFor(model => model.Login):
                    </div>
                    <div class="col-md-5">
                        @Html.TextBoxFor(model => model.Login, new {@class = "form-control"})
                        @Html.ValidationMessageFor(model => model.Login)
                    </div>
                </div>
                <br/>
                <div class="row">
                    <div class="col-md-3">
                        @Html.LabelFor(model => model.Password):
                    </div>
                    <div class="col-md-5">
                        @Html.TextBoxFor(model => model.Password, new {@class = "form-control"})
                        @Html.ValidationMessageFor(model => model.Password)
                        
                        
                        
                       
                    </div>
                </div>
                <br/>
                <div class="row">
                    <div class="col-md-3">
                        @Html.LabelFor(model => model.VerifyPassword):
                    </div>
                    <div class="col-md-5">
                        @Html.TextBoxFor(model => model.VerifyPassword, new {@class = "form-control"})
                        @Html.ValidationMessageFor(model => model.VerifyPassword)
                    </div>
                </div>
                
                <div class="col-md-5">

                    <input type="hidden" value="@ViewBag.Roles" name="RoleName" />
                 
                </div>
                <br/>

            </div>
        </div>
        <br/>
        <div class="row">
            <div class="col-sm-12" style="text-align:center; margin:auto; padding-bottom: 50px;">

                
               
                <input type="button" value="Создать" class="btn btn-primary"
                       onclick="createSubmit(this.form)" />
            </div>
        </div>
    }
</div>

@section Scripts { @**@
    @Scripts.Render("~/bundles/jqueryval")
}

<script type="text/javascript">

    function createSubmit(form) {
        //var form = document.form[0];
        //alert(form);
        //if ($(form).valid() == false) {
            //alert('false');
        //    return false;
        //}

        $.ajax(
            {
                url: '@Url.Action("Register")',
                type: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(
                    {
                        LastName: document.getElementById("LastName").value,
                        FirstName: $('#FirstName').val(),
                        Login: $('#Login').val(),
                        Password: $('#Password').val(),
                        VerifyPassword: $('#VerifyPassword').val(),
                        Role: $('#Role').val()
                       
                    }
                ),
                success: function(msg) {
                    if (msg == 'true') {
                        alert('Зарегистрирован');
                        // document.location.assign("/Account/Login");
                        document.location.replace('@Url.Action("Login", "Account")');
                    } else {
                        alert('Ошибка');
                    }
                },
                error: function() {
                    alert('Ошибка');
                }
            }
        )
    }
</script>
<script src="~/Content/js/jquery.min.js"></script>
<script src="~/Content/js/jquery-migrate-3.0.1.min.js"></script>
<script src="~/Content/js/popper.min.js"></script>
<script src="~/Content/js/bootstrap.min.js"></script>
<script src="~/Content/js/jquery.easing.1.3.js"></script>
<script src="~/Content/js/jquery.waypoints.min.js"></script>
<script src="~/Content/js/jquery.stellar.min.js"></script>
<script src="~/Content/js/owl.carousel.min.js"></script>
<script src="~/Content/js/jquery.magnific-popup.min.js"></script>
<script src="~/Content/js/aos.js"></script>
<script src="~/Content/js/jquery.animateNumber.min.js"></script>
<script src="~/Content/js/bootstrap-datepicker.js"></script>
<script src="~/Content/js/jquery.timepicker.min.js"></script>
<script src="~/Content/js/scrollax.min.js"></script>

<script src="~/Content/js/google-map.js"></script>
<script src="~/Content/js/main.js"></script>

@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/bootstrap")

</body>

